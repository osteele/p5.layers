<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>createGraphics.js</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/styles/github-dark.min.css"><script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/highlight.min.js"></script><script>hljs.highlightAll();</script><style>body {
  background: hsl(215, 26%, 7%);
}
.content {
  margin: 0 auto;
}</style></head><body><div class="content"><pre><code class="language-javascript">// Description: use `enterLayer()` to modify the (global) p5.js functions to
// operate on a Graphics instead of the canvas.

let pg;

function setup() {
  createCanvas(windowWidth, windowHeight);
  rectMode(CENTER);
  pg = createGraphics(width, height);
}

function draw() {
  background(0);

  beginLayer(pg);
  let angle = millis() / 1000;
  let x = map(cos(angle), -1, 1, 0, width);
  let y = map(sin(1.4 * angle), -1, 1, 0, height);
  background(100, 40);
  circle(x, y, 30);
  endLayer();

  image(pg, 0, 0);

  translate(200, height - 200);
  rotate(millis() / 1000);
  rect(0, 0, 100, 100);
}
</code></pre></div></body></html>