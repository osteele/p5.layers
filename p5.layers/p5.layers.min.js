!function(){"use strict";const e=[],n=new Map,t=["createGraphics","millis"];p5.prototype.beginLayer=function o(i,a,r,c){if(i instanceof Number&&a instanceof Number)return o(null,i,a,r);let s=i instanceof p5.Graphics?i:n.get(i);s||(s=createGraphics(a||width,r||height,c||P2D),"new"!==i&&n.set(i,s),s.background(0),s.clear());const p=window,d=new Map;e.push({savedMethods:d,graphics:s,managed:s!==i});for(const[e,n]of Object.entries(s))e in p5.prototype&&e in p&&!t.includes(e)&&"function"==typeof n&&(d.set(e,p[e]),p[e]=(...e)=>n.apply(s,e));return s},p5.prototype.endLayer=function(n,t,o,i){const a=window;if(!e.length)return void console.warn("endLayer() was called without matching beginLayer()");const{savedMethods:r,graphics:c,managed:s}=e.pop();for(const[e,n]of r)a[e]=n;(void 0===n?s:!1!==n)&&image(c,n||0,t||0,o,i)}}();
