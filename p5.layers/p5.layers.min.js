const __p5LayerStack=[],__p5LayerDict=new Map,__p5LayerFunctionOmitlist=["createGraphics","millis"];function beginLayer(a,b,c,d){if(a instanceof Number&&b instanceof Number)return beginLayer(null,a,b,c);let e=a instanceof p5.Graphics?a:__p5LayerDict.get(a);e||(e=createGraphics(b||width,c||height,d||P2D),"new"!==a&&__p5LayerDict.set(a,e),e.background(0),e.clear());const f=window,g=new Map;__p5LayerStack.push({savedMethods:g,graphics:e,managed:e!==a});for(const[h,i]of Object.entries(e))h in p5.prototype&&h in f&&!__p5LayerFunctionOmitlist.includes(h)&&"function"==typeof i&&(g.set(h,f[h]),f[h]=(...a)=>i.apply(e,a));return e}function endLayer(a,b,c,d){const e=window;if(!__p5LayerStack.length)return void console.warn("endLayer() was called without matching beginLayer()");const{savedMethods:f,graphics:g,managed:h}=__p5LayerStack.pop();for(const[g,h]of f)e[g]=h;(a===void 0?h:!1!==a)&&image(g,a||0,b||0,c,d)}

//# sourceMappingURL=p5.layers.min.js.map